(function(a){a.fn.extend({valid:function(){var b=a.isArray(arguments[0])?arguments[0]:[],c=arguments[2]?arguments[2]:!0,d=arguments[1]?arguments[1]:!1,e={eng:/^[A-Za-z]+$/,chn:/^[\u0391-\uFFE5]+$/,mail:/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,number:/^\d+$/,username:/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){6,16}$/,password:/^(\w){6,18}$/,dbc:/[ａ-ｚＡ-Ｚ０-９！＠＃￥％＾＆＊（）＿＋｛｝［］｜：＂＇；．，／？＜＞｀～　]/,"int":/^[0-9]{1,30}$/,mobile:/^0{0,1}(13[0-9]?|15[0-9]|18[0,5-9])[0-9]{8}$/,phone:/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,12})+$/,qq:/[1-9][0-9]{4,}/,eq:function(b,c){var d=a.trim(a("[name='"+c.to+"']").val());return b==d?!0:!1},checkbox:function(b,c){var d=c.min?c.min:1,e=a("[name='"+b+"']:checkbox:checked").length;return e>=d?!0:!1},radio:function(b,c){return a("[name='"+b+"']:checked").length>0?!0:!1},length:function(a,b){if(b.min||b.max){var c=a.length,d=b.min||0,e=b.max;return e&&(c>e||c<d)||!e&&c<d?!1:!0}},ajax:function(b,c){var d=c.url,e=b,f=!1;return a.ajax({type:"get",url:d,async:!1,data:"value="+e,success:function(b){b==1?f=!0:f=!1,a.data("bl",f)}}),f}},f="",g=a(this),h=!1,i=function(a){return"tip"+a.replace(/\$/g,"").replace(/([a-zA-Z0-9])/g,"_$1")},j=function(a,b,c){h=!1,a.addClass("vError"),n(b,c,"validatorError")},k=function(a,b){var c=arguments[2]?arguments[2]:"&nbsp;";n(b,c,"validatorValid")},l=function(){var b=!0,c=arguments;if(e.hasOwnProperty(c[0])){var d=e[c[0]],f=c[1];b=a.isFunction(d)?d(f,c[2]):d.test(f)}return b},m=function(b){var c=a("[name='"+b.name+"']",g[0]);n(b.name,b.onFocus,"validatorFocus"),c.removeClass("vError")},n=function(b,c,d){var e=a("[name='"+b+"']"),f=i(b),g=a("#"+f);g.length>0?c&&(g.removeClass().addClass("validatorMsg "+d),g.html(c)):c&&(c="<span class='validatorMsg "+d+"' id='"+f+"'> "+c+"</span>",e.parent().append(c))},o=function(b){var c=b,d=a("[name='"+c.name+"']",g[0]);if(!d[0])return;if(d.hasClass("vError")){h=!1;return}var e,f=!0,i=a.trim(d.val());d.is(":radio")||d.is(":checkbox")?f=l(c.type,c.name,c.other):i==""?(f=!1,e=c.isNull||c.error):c.type&&(f=c.other?l(c.type,i,c.other):l(c.type,i)),e=e?e:f?c.success:c.error,f?k(d,c.name,e):j(d,c.name,e)},p=function(){return h=!0,a.each(b,function(){o(this)}),h==1&&d==1?(ajaxForm(),!1):h};a.each(b,function(){var b=a("[name='"+this.name+"']",g[0]);if(b.is(":hidden"))return;var c=this,d=function(){o(c)},e=function(){m(c)};b.is(":file")||b.is("select")?b.change(d):b.blur(d),b.focus(e)}),c==1?a(this).submit(p):a("#"+c).click(p)}})})(jQuery)